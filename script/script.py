import webiopi

serial = webiopi.deviceInstance("serial0")

webiopi.setDebug()

@webiopi.macro
def D0_TurnOn():
	webiopi.debug("Script Started...")
	serial.writeBytes([0x7E, 0x00, 0x10, 0x17, 0x01, 0x00, 0x13, 0xA2, 0x00, 0x40, 0x6C, 0x01, 0x9F, 0x00, 0x02, 0x02, 0x44, 0x30, 0x05, 0x69])
	webiopi.debug("serial written")

@webiopi.macro
def D0_TurnOff():
	webiopi.debug("D0_TurnOff...")
	serial.writeBytes([0x7E, 0x00, 0x10, 0x17, 0x01, 0x00, 0x13, 0xA2, 0x00, 0x40, 0x6C, 0x01, 0x9F, 0x00, 0x02, 0x02, 0x44, 0x30, 0x04, 0x6A])
	webiopi.debug("serial written")

@webiopi.macro
def D1_TurnOn():
	webiopi.debug("D0_TurnOff...")
	serial.writeBytes([0x7E, 0x00, 0x10, 0x17, 0x01, 0x00, 0x13, 0xA2, 0x00, 0x40, 0x6C, 0x01, 0x9F, 0x00, 0x02, 0x02, 0x44, 0x31, 0x05, 0x68])
	webiopi.debug("serial written")

@webiopi.macro
def D1_TurnOff():
	webiopi.debug("D0_TurnOff...")
	serial.writeBytes([0x7E, 0x00, 0x10, 0x17, 0x01, 0x00, 0x13, 0xA2, 0x00, 0x40, 0x6C, 0x01, 0x9F, 0x00, 0x02, 0x02, 0x44, 0x31, 0x04, 0x69])
	webiopi.debug("serial written")

def setup():
	webiopi.debug("Setup Started...")
	while (serial.available() > 0):
		serial.readString()

def loop():
	webiopi.sleep(1)